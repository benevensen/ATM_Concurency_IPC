Finished with part 5, it works perfectly and exits cleanly. 

It even gets rid of the semaphore and the shared memory.

Needs a lot of clean up but is perfectly functional.